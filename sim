#! /c/Source/iverilog-install/bin/vvp
:ivl_version "12.0 (devel)" "(s20150603-1539-g2693dd32b)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "C:\iverilog\lib\ivl\system.vpi";
:vpi_module "C:\iverilog\lib\ivl\vhdl_sys.vpi";
:vpi_module "C:\iverilog\lib\ivl\vhdl_textio.vpi";
:vpi_module "C:\iverilog\lib\ivl\v2005_math.vpi";
:vpi_module "C:\iverilog\lib\ivl\va_math.vpi";
S_000002a4fbdaa7d0 .scope module, "flag_tb" "flag_tb" 2 3;
 .timescale -9 -12;
v000002a4fbdaf150_0 .net "Loss", 0 0, L_000002a4fbe12f10;  1 drivers
v000002a4fbdaf330_0 .net "Win", 0 0, L_000002a4fbe12e70;  1 drivers
v000002a4fbdafc90_0 .var "clk", 0 0;
v000002a4fbdafd30_0 .var "reset_n", 0 0;
v000002a4fbe13f50_0 .var "risk", 0 0;
v000002a4fbe13550_0 .var "secure", 0 0;
S_000002a4fbdaa960 .scope module, "dut" "flag" 2 14, 3 1 0, S_000002a4fbdaa7d0;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset_n";
    .port_info 2 /INPUT 1 "secure";
    .port_info 3 /INPUT 1 "risk";
    .port_info 4 /OUTPUT 1 "Win";
    .port_info 5 /OUTPUT 1 "Loss";
P_000002a4fbda5df0 .param/l "S0" 0 3 9, C4<000>;
P_000002a4fbda5e28 .param/l "S1" 0 3 10, C4<001>;
P_000002a4fbda5e60 .param/l "S2" 0 3 11, C4<011>;
P_000002a4fbda5e98 .param/l "S3" 0 3 12, C4<010>;
P_000002a4fbda5ed0 .param/l "S4" 0 3 13, C4<110>;
L_000002a4fbe148e0 .functor BUFT 1, C4<1>, C4<0>, C4<0>, C4<0>;
L_000002a4fbdbc150 .functor XNOR 1, v000002a4fbe13550_0, L_000002a4fbe148e0, C4<0>, C4<0>;
L_000002a4fbdbbcf0 .functor AND 1, L_000002a4fbe13370, L_000002a4fbdbc150, C4<1>, C4<1>;
v000002a4fbdaf470_0 .net "Loss", 0 0, L_000002a4fbe12f10;  alias, 1 drivers
v000002a4fbdaf650_0 .net "Win", 0 0, L_000002a4fbe12e70;  alias, 1 drivers
L_000002a4fbe14898 .functor BUFT 1, C4<000>, C4<0>, C4<0>, C4<0>;
v000002a4fbdafe70_0 .net/2u *"_ivl_0", 2 0, L_000002a4fbe14898;  1 drivers
L_000002a4fbe14928 .functor BUFT 1, C4<1>, C4<0>, C4<0>, C4<0>;
v000002a4fbdafb50_0 .net/2u *"_ivl_10", 0 0, L_000002a4fbe14928;  1 drivers
L_000002a4fbe14970 .functor BUFT 1, C4<0>, C4<0>, C4<0>, C4<0>;
v000002a4fbdaf830_0 .net/2u *"_ivl_12", 0 0, L_000002a4fbe14970;  1 drivers
L_000002a4fbe149b8 .functor BUFT 1, C4<110>, C4<0>, C4<0>, C4<0>;
v000002a4fbdaf6f0_0 .net/2u *"_ivl_16", 2 0, L_000002a4fbe149b8;  1 drivers
v000002a4fbdafab0_0 .net *"_ivl_18", 0 0, L_000002a4fbe13eb0;  1 drivers
v000002a4fbdaf510_0 .net *"_ivl_2", 0 0, L_000002a4fbe13370;  1 drivers
L_000002a4fbe14a00 .functor BUFT 1, C4<1>, C4<0>, C4<0>, C4<0>;
v000002a4fbdaff10_0 .net/2u *"_ivl_20", 0 0, L_000002a4fbe14a00;  1 drivers
L_000002a4fbe14a48 .functor BUFT 1, C4<0>, C4<0>, C4<0>, C4<0>;
v000002a4fbdafdd0_0 .net/2u *"_ivl_22", 0 0, L_000002a4fbe14a48;  1 drivers
v000002a4fbdaf790_0 .net/2u *"_ivl_4", 0 0, L_000002a4fbe148e0;  1 drivers
v000002a4fbdaf8d0_0 .net *"_ivl_6", 0 0, L_000002a4fbdbc150;  1 drivers
v000002a4fbdaf1f0_0 .net *"_ivl_9", 0 0, L_000002a4fbdbbcf0;  1 drivers
v000002a4fbdaf970_0 .net "clk", 0 0, v000002a4fbdafc90_0;  1 drivers
v000002a4fbdaf010_0 .var "next_state", 2 0;
v000002a4fbdafbf0_0 .net "reset_n", 0 0, v000002a4fbdafd30_0;  1 drivers
v000002a4fbdaf5b0_0 .net "risk", 0 0, v000002a4fbe13f50_0;  1 drivers
v000002a4fbdaf290_0 .net "secure", 0 0, v000002a4fbe13550_0;  1 drivers
v000002a4fbdafa10_0 .var "state", 2 0;
E_000002a4fbda9610 .event anyedge, v000002a4fbdafa10_0, v000002a4fbdaf290_0, v000002a4fbdaf5b0_0;
E_000002a4fbda99d0/0 .event negedge, v000002a4fbdafbf0_0;
E_000002a4fbda99d0/1 .event posedge, v000002a4fbdaf970_0;
E_000002a4fbda99d0 .event/or E_000002a4fbda99d0/0, E_000002a4fbda99d0/1;
L_000002a4fbe13370 .cmp/eq 3, v000002a4fbdafa10_0, L_000002a4fbe14898;
L_000002a4fbe12e70 .functor MUXZ 1, L_000002a4fbe14970, L_000002a4fbe14928, L_000002a4fbdbbcf0, C4<>;
L_000002a4fbe13eb0 .cmp/eq 3, v000002a4fbdafa10_0, L_000002a4fbe149b8;
L_000002a4fbe12f10 .functor MUXZ 1, L_000002a4fbe14a48, L_000002a4fbe14a00, L_000002a4fbe13eb0, C4<>;
S_000002a4fbd82ce0 .scope task, "move" "move" 2 28, 2 28 0, S_000002a4fbdaa7d0;
 .timescale -9 -12;
v000002a4fbdaf3d0_0 .var "r", 0 0;
v000002a4fbdaf0b0_0 .var "s", 0 0;
E_000002a4fbda9510 .event posedge, v000002a4fbdaf970_0;
TD_flag_tb.move ;
    %load/vec4 v000002a4fbdaf3d0_0;
    %store/vec4 v000002a4fbe13f50_0, 0, 1;
    %load/vec4 v000002a4fbdaf0b0_0;
    %store/vec4 v000002a4fbe13550_0, 0, 1;
    %wait E_000002a4fbda9510;
    %delay 5000, 0;
    %vpi_call 2 36 "$display", "T=%0t  R=%b S=%b  Win=%b Loss=%b", $time, v000002a4fbe13f50_0, v000002a4fbe13550_0, v000002a4fbdaf330_0, v000002a4fbdaf150_0 {0 0 0};
    %end;
    .scope S_000002a4fbdaa960;
T_1 ;
    %wait E_000002a4fbda99d0;
    %load/vec4 v000002a4fbdafbf0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_1.0, 8;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v000002a4fbdafa10_0, 0;
    %jmp T_1.1;
T_1.0 ;
    %load/vec4 v000002a4fbdaf010_0;
    %assign/vec4 v000002a4fbdafa10_0, 0;
T_1.1 ;
    %jmp T_1;
    .thread T_1;
    .scope S_000002a4fbdaa960;
T_2 ;
    %wait E_000002a4fbda9610;
    %load/vec4 v000002a4fbdafa10_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_2.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_2.1, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_2.2, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_2.3, 6;
    %dup/vec4;
    %pushi/vec4 6, 0, 3;
    %cmp/u;
    %jmp/1 T_2.4, 6;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v000002a4fbdaf010_0, 0, 3;
    %jmp T_2.6;
T_2.0 ;
    %load/vec4 v000002a4fbdaf290_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.7, 8;
    %pushi/vec4 1, 0, 3;
    %store/vec4 v000002a4fbdaf010_0, 0, 3;
    %jmp T_2.8;
T_2.7 ;
    %load/vec4 v000002a4fbdaf5b0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.9, 8;
    %pushi/vec4 6, 0, 3;
    %store/vec4 v000002a4fbdaf010_0, 0, 3;
    %jmp T_2.10;
T_2.9 ;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v000002a4fbdaf010_0, 0, 3;
T_2.10 ;
T_2.8 ;
    %jmp T_2.6;
T_2.1 ;
    %load/vec4 v000002a4fbdaf290_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.11, 8;
    %pushi/vec4 1, 0, 3;
    %store/vec4 v000002a4fbdaf010_0, 0, 3;
    %jmp T_2.12;
T_2.11 ;
    %load/vec4 v000002a4fbdaf5b0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.13, 8;
    %pushi/vec4 3, 0, 3;
    %store/vec4 v000002a4fbdaf010_0, 0, 3;
    %jmp T_2.14;
T_2.13 ;
    %pushi/vec4 6, 0, 3;
    %store/vec4 v000002a4fbdaf010_0, 0, 3;
T_2.14 ;
T_2.12 ;
    %jmp T_2.6;
T_2.2 ;
    %load/vec4 v000002a4fbdaf290_0;
    %flag_set/vec4 8;
    %jmp/1 T_2.17, 8;
    %load/vec4 v000002a4fbdaf5b0_0;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_2.17;
    %jmp/0xz  T_2.15, 8;
    %pushi/vec4 2, 0, 3;
    %store/vec4 v000002a4fbdaf010_0, 0, 3;
    %jmp T_2.16;
T_2.15 ;
    %pushi/vec4 6, 0, 3;
    %store/vec4 v000002a4fbdaf010_0, 0, 3;
T_2.16 ;
    %jmp T_2.6;
T_2.3 ;
    %load/vec4 v000002a4fbdaf290_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.18, 8;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v000002a4fbdaf010_0, 0, 3;
    %jmp T_2.19;
T_2.18 ;
    %pushi/vec4 6, 0, 3;
    %store/vec4 v000002a4fbdaf010_0, 0, 3;
T_2.19 ;
    %jmp T_2.6;
T_2.4 ;
    %load/vec4 v000002a4fbdaf290_0;
    %flag_set/vec4 8;
    %jmp/1 T_2.22, 8;
    %load/vec4 v000002a4fbdaf5b0_0;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_2.22;
    %jmp/0xz  T_2.20, 8;
    %pushi/vec4 6, 0, 3;
    %store/vec4 v000002a4fbdaf010_0, 0, 3;
    %jmp T_2.21;
T_2.20 ;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v000002a4fbdaf010_0, 0, 3;
T_2.21 ;
    %jmp T_2.6;
T_2.6 ;
    %pop/vec4 1;
    %jmp T_2;
    .thread T_2, $push;
    .scope S_000002a4fbdaa7d0;
T_3 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdafc90_0, 0, 1;
    %end;
    .thread T_3;
    .scope S_000002a4fbdaa7d0;
T_4 ;
    %delay 5000, 0;
    %load/vec4 v000002a4fbdafc90_0;
    %inv;
    %store/vec4 v000002a4fbdafc90_0, 0, 1;
    %jmp T_4;
    .thread T_4;
    .scope S_000002a4fbdaa7d0;
T_5 ;
    %vpi_call 2 42 "$dumpfile", "flag_tb.vcd" {0 0 0};
    %vpi_call 2 43 "$dumpvars", 32'sb00000000000000000000000000000000, S_000002a4fbdaa7d0 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbe13550_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbe13f50_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdafd30_0, 0, 1;
    %wait E_000002a4fbda9510;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000002a4fbdafd30_0, 0, 1;
    %wait E_000002a4fbda9510;
    %vpi_call 2 54 "$display", "=== Start of simulation ===" {0 0 0};
    %vpi_call 2 60 "$display", "\012--- TEST 1: Valid WIN path ---" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf3d0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf0b0_0, 0, 1;
    %fork TD_flag_tb.move, S_000002a4fbd82ce0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf3d0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000002a4fbdaf0b0_0, 0, 1;
    %fork TD_flag_tb.move, S_000002a4fbd82ce0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf3d0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000002a4fbdaf0b0_0, 0, 1;
    %fork TD_flag_tb.move, S_000002a4fbd82ce0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000002a4fbdaf3d0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf0b0_0, 0, 1;
    %fork TD_flag_tb.move, S_000002a4fbd82ce0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf3d0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000002a4fbdaf0b0_0, 0, 1;
    %fork TD_flag_tb.move, S_000002a4fbd82ce0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf3d0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000002a4fbdaf0b0_0, 0, 1;
    %fork TD_flag_tb.move, S_000002a4fbd82ce0;
    %join;
    %vpi_call 2 83 "$display", "\012--- TEST 2: Risk from BASE -> LOST ---" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000002a4fbdaf3d0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf0b0_0, 0, 1;
    %fork TD_flag_tb.move, S_000002a4fbd82ce0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf3d0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf0b0_0, 0, 1;
    %fork TD_flag_tb.move, S_000002a4fbd82ce0;
    %join;
    %vpi_call 2 93 "$display", "\012--- TEST 3: Stall in ZONE_A -> LOST ---" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf3d0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000002a4fbdaf0b0_0, 0, 1;
    %fork TD_flag_tb.move, S_000002a4fbd82ce0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf3d0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf0b0_0, 0, 1;
    %fork TD_flag_tb.move, S_000002a4fbd82ce0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf3d0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf0b0_0, 0, 1;
    %fork TD_flag_tb.move, S_000002a4fbd82ce0;
    %join;
    %vpi_call 2 107 "$display", "\012--- TEST 4: Risk in FLAGGED -> LOST ---" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf3d0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000002a4fbdaf0b0_0, 0, 1;
    %fork TD_flag_tb.move, S_000002a4fbd82ce0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000002a4fbdaf3d0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf0b0_0, 0, 1;
    %fork TD_flag_tb.move, S_000002a4fbd82ce0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000002a4fbdaf3d0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf0b0_0, 0, 1;
    %fork TD_flag_tb.move, S_000002a4fbd82ce0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000002a4fbdaf3d0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000002a4fbdaf0b0_0, 0, 1;
    %fork TD_flag_tb.move, S_000002a4fbd82ce0;
    %join;
    %vpi_call 2 119 "$display", "\012=== End of simulation ===" {0 0 0};
    %delay 20000, 0;
    %vpi_call 2 121 "$finish" {0 0 0};
    %end;
    .thread T_5;
# The file index is used to find the file name in the following table.
:file_names 4;
    "N/A";
    "<interactive>";
    "flag_tb.v";
    "flag.v";
